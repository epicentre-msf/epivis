[{"path":"https://epicentre-msf.github.io/epivis/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 Epicentre Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://epicentre-msf.github.io/epivis/articles/epicurves.html","id":"working-with-dates-and-weeks","dir":"Articles","previous_headings":"","what":"Working with dates and weeks","title":"Epidemic Curves","text":"Commonly incidence plotted week, day. daily data can ask plot_epicurve re-calculate incidence week instead setting floor_date_week = TRUE. can choose first day week week_start (defaults 1 (Monday)). Finally can set date axis labels week number rather date.  secondary date axis can added top default ggplot labels via sec_date_axis = TRUE. done, week labels reduced week number, year information displayed top labels. can control number date labels bottom axis date_breaks argument.  want display week labels avoid overlapping, can use dodge_x_labs helper function:  Sometimes epidemics week two may pass cases reported. default appear epicurve data latest week. However may want explicitly show graphic effectively communicate data --date 0 cases latest week(s). add date_max argument. force date axis extend point:","code":"plot_epicurve(   df_ebola,    date_col = date_of_onset,    floor_date_week = TRUE,    week_start = 1,   label_weeks = TRUE,   date_lab = \"Week of onset\",    y_lab = \"Incidence\" ) plot_epicurve(   df_ebola,    date_col = date_of_onset,    floor_date_week = TRUE,    label_weeks = TRUE,   date_breaks = \"3 weeks\",   sec_date_axis = TRUE,   date_lab = \"Week of onset\",    y_lab = \"Incidence\" ) plot_epicurve(   df_ebola,    date_col = date_of_onset,    floor_date_week = TRUE,   label_weeks = TRUE,   sec_date_axis = TRUE,   date_breaks = \"1 week\",    date_lab = \"Week of onset\",    y_lab = \"Incidence\" ) +   dodge_x_labs() plot_epicurve(   df_ebola,    date_col = date_of_onset,    floor_date_week = TRUE,   label_weeks = TRUE,   sec_date_axis = TRUE,   date_max = \"2015-06-01\", # extend axis to June 2015   date_breaks = \"1 week\",    date_lab = \"Week of onset\",    y_lab = \"Incidence\" ) +   dodge_x_labs()"},{"path":"https://epicentre-msf.github.io/epivis/articles/epicurves.html","id":"grouping-data","dir":"Articles","previous_headings":"","what":"Grouping Data","title":"Epidemic Curves","text":"may want visualise third variable filling columns varying colours. can adding group_col argument.  default, NAs plotted grey colour. can change group_na_colour argument. Alternatively, may want recode NAs data meaningful label. outcome column dataset factor, can recode NAs forcats::fct_explicit_na.  Note: ‘pipe’ modified dataset first argument plot_epicurve function.","code":"plot_epicurve(   df_ebola,    date_col = date_of_onset,    group_col = outcome,   floor_date_week = TRUE,     label_weeks = TRUE,   date_breaks = \"2 weeks\",   sec_date_axis = TRUE,   date_lab = \"Week of onset\",    y_lab = \"Incidence\",   group_lab = \"Outcome\" ) df_ebola %>%    mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) %>%    plot_epicurve(     date_col = date_of_onset,      group_col = outcome,     floor_date_week = TRUE,       label_weeks = TRUE,     sec_date_axis = FALSE,     date_lab = \"Week of onset\",      y_lab = \"Incidence\",     group_lab = \"Outcome\"   )"},{"path":"https://epicentre-msf.github.io/epivis/articles/epicurves.html","id":"adding-proportion-lines","dir":"Articles","previous_headings":"","what":"Adding proportion lines","title":"Epidemic Curves","text":"can useful visualise proportion ratio time top epicurve, case fatality ratio good example. can done plot_epicurve providing proportion column along numerator denominator values. plot CFR use outcome column numerator \"Death\" denominator c(\"Death\", \"Recover\") (ignoring unknown outcomes calculation):  See also: prop_line_colour prop_line_size argument modify colour line thickness, respectively.","code":"df_ebola %>%    mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) %>%    plot_epicurve(     date_col = date_of_onset,      group_col = outcome,     prop_col = outcome,     prop_numer = \"Death\",     prop_denom = c(\"Death\", \"Recover\"),     floor_date_week = TRUE,       label_weeks = TRUE,     sec_date_axis = FALSE,     date_lab = \"Week of onset\",      y_lab = \"Incidence\",     group_lab = \"Outcome\",     prop_lab = \"CFR\"   )"},{"path":"https://epicentre-msf.github.io/epivis/articles/epicurves.html","id":"faceting","dir":"Articles","previous_headings":"","what":"Faceting","title":"Epidemic Curves","text":"Facets can used split epicurves categorical variable, often location. case can facet hospital simply adding facet_col = hospital argument. also set facet columns 2 reduce CFR line width due smaller plot sizes:","code":"df_ebola %>%    mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) %>%    plot_epicurve(     date_col = date_of_onset,      group_col = outcome,     facet_col = hospital,     facet_ncol = 2,     facet_labs = label_wrap_gen(width = 30),     prop_col = outcome,     prop_numer = \"Death\",     prop_denom = c(\"Death\", \"Recover\"),     prop_line_size = .5,     floor_date_week = TRUE,       label_weeks = TRUE,     date_breaks = \"4 weeks\",     sec_date_axis = TRUE,     date_lab = \"Week of onset\",      y_lab = \"Incidence\",     group_lab = \"Outcome\",     prop_lab = \"CFR\"   )"},{"path":"https://epicentre-msf.github.io/epivis/articles/epicurves.html","id":"theming","dir":"Articles","previous_headings":"","what":"Theming","title":"Epidemic Curves","text":"Although plot_epicurve built-theme defaults, function returns ggplot object, can easily reset default adding themes, palettes etc object:","code":"library(hrbrthemes) # install.packages(\"hrbrthemes\") for additional ggplot2 themes  df_ebola %>%    mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) %>%    plot_epicurve(     date_col = date_of_onset,      group_col = outcome,     prop_col = outcome,     prop_numer = \"Death\",     prop_denom = c(\"Death\", \"Recover\"),     prop_line_colour = \"orange\",     prop_line_size = 0.5,     floor_date_week = TRUE,      label_weeks = TRUE,     sec_date_axis = FALSE,     date_lab = \"Week of onset\",      y_lab = \"Incidence\",     group_lab = \"Outcome\",     prop_lab = \"CFR\"   ) +   scale_fill_manual(values = c(\"#486090FF\", \"#6078A8FF\", \"#7890A8FF\")) +    hrbrthemes::theme_ft_rc() +    theme(     panel.grid.major.x = element_blank(),      panel.grid.minor.x = element_blank(),      axis.title.y = element_text(hjust = .5)   )"},{"path":"https://epicentre-msf.github.io/epivis/articles/missing_data_visualisation.html","id":"facet-the-graph","dir":"Articles","previous_headings":"","what":"Facet the graph","title":"Visualising Missing Data","text":"missing values plot can facetted group variable using facet = \"variable_name\" argument","code":"df |>    filter(site %in% c(\"Moïssala Hospital\", \"Bedaya Hospital\")) |>    plot_miss_vis(     facet = \"site\"   )"},{"path":"https://epicentre-msf.github.io/epivis/articles/missing_data_visualisation.html","id":"further-customisation","dir":"Articles","previous_headings":"","what":"Further customisation","title":"Visualising Missing Data","text":"Colors graph can changed using color_vec argument. takes length 2 vector HEX code, first color Missing values. y_axis_text_size allows manual specification y-axis text size, can hard read exploring many variables.","code":"df |>    filter(site %in% c(\"Moïssala Hospital\", \"Bedaya Hospital\")) |>    plot_miss_vis(     facet = \"site\",      y_axis_text_size = 6,      col_vec = c(\"seagreen\", \"lightblue\")   )"},{"path":[]},{"path":"https://epicentre-msf.github.io/epivis/articles/pyramids.html","id":"age-binning","dir":"Articles","previous_headings":"Modifying the output","what":"Age binning","title":"Age/Sex Pyramids","text":"make_age_groups = TRUE (default) age variable forced numeric format (already) binned age groups. Change age breaks age_breaks argument:  Age group labels formatted default epivis::label_breaks(age_breaks) can supply labels required via age_labels argument (labels must length breaks). Notice age groups appear plot default, whether observations group . remove groups observations use drop_age_levels = TRUE. data already binned age want use bins, can pass column set make_age_groups = FALSE.","code":"plot_pyramid(   df = df_flu,   age_col = age,   gender_col = gender,   gender_levels = c(\"m\", \"f\"),   age_breaks = c(seq(0, 100, 5), Inf) # 5 year intervals to 100 then 100+ )"},{"path":"https://epicentre-msf.github.io/epivis/articles/pyramids.html","id":"facetting","dir":"Articles","previous_headings":"Modifying the output","what":"Facetting","title":"Age/Sex Pyramids","text":"can facet graphic supplying facet_col:","code":"df_flu %>%    mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) %>%    plot_pyramid(   age_col = age,   gender_col = gender,   facet_col = outcome, # facet by patient outcome   facet_ncol = 2,   gender_levels = c(\"m\", \"f\") )"},{"path":"https://epicentre-msf.github.io/epivis/articles/pyramids.html","id":"labelling","dir":"Articles","previous_headings":"Modifying the output","what":"Labelling","title":"Age/Sex Pyramids","text":"arguments format axis legend labels, well add data labels plot:  Notice smaller value labels places outside bar improve legibility. can change threshold moving label lab_nudge_factor. default value 5. Increasing number increases distance max value required move label outside bar. want keep labels inside bars, increase higher value:","code":"plot_pyramid(   df = df_flu,   age_col = age,   gender_col = gender,   gender_levels = c(\"m\", \"f\"),   gender_labs = c(\"Hommes\", \"Femmes\"), # must respect the same order as the breaks   x_lab = \"Tranche d'Âge\",   y_lab = \"Nombre de Personnes\",   show_data_labs = TRUE,   add_missing_cap = FALSE # remove caption detailing missing data ) plot_pyramid(   df = df_flu,   age_col = age,   gender_col = gender,   gender_levels = c(\"m\", \"f\"),   gender_labs = c(\"Hommes\", \"Femmes\"), # must respect the same order as the breaks   x_lab = \"Tranche d'Âge\",   y_lab = \"Nombre de Personnes\",   show_data_labs = TRUE,   lab_nudge_factor = 50 # change from 5 to 50 )"},{"path":"https://epicentre-msf.github.io/epivis/articles/pyramids.html","id":"theming","dir":"Articles","previous_headings":"Modifying the output","what":"Theming","title":"Age/Sex Pyramids","text":"Although plot_pyramid built-theme defaults, function returns ggplot object, can easily reset default adding themes, palettes etc object:","code":"plot_pyramid(   df = df_flu,   age_col = age,   gender_col = gender,   gender_levels = c(\"m\", \"f\"),   gender_labs = c(\"Hommes\", \"Femmes\"), # must respect the same order as the breaks   colours = c(\"darkcyan\", \"firebrick\"), # change bar colours   x_lab = \"Tranche d'Âge\",   y_lab = \"Nombre de Personnes\",   show_data_labs = TRUE,   lab_nudge_factor = 20,    lab_out_col = \"white\" ) +   hrbrthemes::theme_ft_rc() +   labs(title = \"Add a title\", subtitle = \"and a subtitle\") +   theme(     legend.position = \"top\",     axis.text.x = element_blank(),      axis.title.x = element_text(hjust = .5),     axis.title.y = element_text(hjust = .5)   )"},{"path":"https://epicentre-msf.github.io/epivis/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Paul Campbell. Author, maintainer. Hugo Soubrier. Author.","code":""},{"path":"https://epicentre-msf.github.io/epivis/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Campbell P, Soubrier H (2024). epivis: Tools visualising epidemiological data. R package version 0.0.0.9000, https://github.com/epicentre-msf/epivis.","code":"@Manual{,   title = {epivis: Tools for visualising epidemiological data},   author = {Paul Campbell and Hugo Soubrier},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://github.com/epicentre-msf/epivis}, }"},{"path":"https://epicentre-msf.github.io/epivis/index.html","id":"epivis","dir":"","previous_headings":"","what":"Tools for visualising epidemiological data","title":"Tools for visualising epidemiological data","text":"Tools visualising epidemiological data.","code":""},{"path":"https://epicentre-msf.github.io/epivis/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for visualising epidemiological data","text":"can install package github remotes package:","code":"remotes::install_github(\"epicentre-msf/epivis\")"},{"path":"https://epicentre-msf.github.io/epivis/index.html","id":"tutorials","dir":"","previous_headings":"","what":"Tutorials","title":"Tools for visualising epidemiological data","text":"See package site tutorial articles function references: https://epicentre-msf.github.io/epivis/","code":""},{"path":"https://epicentre-msf.github.io/epivis/index.html","id":"roadmap","dir":"","previous_headings":"","what":"Roadmap","title":"Tools for visualising epidemiological data","text":"Epicurves Age/Sex pyramids Mapping Distributions","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/dodge_x_labs.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function to dodge xAxis labels — dodge_x_labs","title":"Wrapper function to dodge xAxis labels — dodge_x_labs","text":"Useful overlapping labels xAxis.","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/dodge_x_labs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function to dodge xAxis labels — dodge_x_labs","text":"","code":"dodge_x_labs(n.dodge = 2)"},{"path":"https://epicentre-msf.github.io/epivis/reference/dodge_x_labs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function to dodge xAxis labels — dodge_x_labs","text":"n.dodge passed ggplot2::guide_axis","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/label_breaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Format break labels — label_breaks","title":"Format break labels — label_breaks","text":"Format break labels","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/label_breaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format break labels — label_breaks","text":"","code":"label_breaks(breaks, lab_accuracy = 0.1, replace_Inf = TRUE)"},{"path":"https://epicentre-msf.github.io/epivis/reference/label_breaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format break labels — label_breaks","text":"breaks numeric vector breaks lab_accuracy accuracy labels, passed scales::number replace_Inf Inf final break, replace + sign label?","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/moissala_measles.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated Measles outbreak in Moïssala (Chad) — moissala_measles","title":"Simulated Measles outbreak in Moïssala (Chad) — moissala_measles","text":"linelist replicates measles outbreak several regions Southern Chad. uses realistic distributions parameters measles outbreak.","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/moissala_measles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated Measles outbreak in Moïssala (Chad) — moissala_measles","text":"","code":"moissala_measles"},{"path":[]},{"path":"https://epicentre-msf.github.io/epivis/reference/moissala_measles.html","id":"moissala-measles","dir":"Reference","previous_headings":"","what":"moissala_measles","title":"Simulated Measles outbreak in Moïssala (Chad) — moissala_measles","text":"data frame 5,028 rows 30 columns: id epi id site Site name case_name Case name sex Case sex age Case age age_unit Age units age_group Age group region Case region residence sub_prefecture Case sub-prefecture residence date_onset Date symptoms onset hospitalisation Hospitalisation status date_admission Date hospital admission ct_value Ct value RT-PCR malaria_rdt Malaria RDT result fever presence fever upon admission rash presence rash upon admission cough presence cough upon admission red_eye presence red eyes upon admission pneumonia presence pneumonia upon admission encephalitis presence encephalitis upon admission muac Middle Upper Arm Circumference (MUAC) upon admission muac_cat MUAC category vacc_status Vaccination status vacc_doses Vaccine doses received outcome Outcome date_death Date death date_exit Date hospital exit epi_classification Epidemiological classification","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/moissala_measles.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Simulated Measles outbreak in Moïssala (Chad) — moissala_measles","text":"https://epicentre-msf.github.io/gallery/","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_epicurve.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot incidence over time from patient level data — plot_epicurve","title":"Plot incidence over time from patient level data — plot_epicurve","text":"Helper function plot epidemic curves ggplot2 options grouping data, facets proportion lines.","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_epicurve.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot incidence over time from patient level data — plot_epicurve","text":"","code":"plot_epicurve(   df,   date_col,   group_col = NULL,   facet_col = NULL,   prop_col = NULL,   prop_numer = NULL,   prop_denom = \"non_missing\",   prop_line_colour = \"black\",   prop_line_size = 0.8,   floor_date_week = FALSE,   label_weeks = FALSE,   week_start = 1,   date_breaks,   date_labels = waiver(),   date_max = NULL,   sec_date_axis = FALSE,   facet_nrow = NULL,   facet_ncol = NULL,   facet_scales = \"fixed\",   facet_labs = ggplot2::label_wrap_gen(width = 25),   facet_lab_pos = \"top\",   group_na_colour = \"grey\",   title = waiver(),   subtitle = waiver(),   date_lab = waiver(),   y_lab = waiver(),   group_lab = waiver(),   prop_lab = NULL )"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_epicurve.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot incidence over time from patient level data — plot_epicurve","text":"df un-aggregated dataframe minumum date column date POSIX class date_col date variable plot incidence . Must provided. group_col optional grouping variable applied fill aesthetic columns facet_col optional faceting variable split chart small multiples prop_col optional variable used plot proportion line top epicurve prop_numer value(s) prop_col variable single value vector used calculate numerator proportion calculation prop_denom value(s) prop_col variable single value vector used calculate denominator proportion calculation. default \"non_missing\" take sum non-missing values column. prop_line_colour colour proportion line. defaults \"red\" prop_line_size width proportion line. defaults 0.8 floor_date_week date_col dates floored Monday ISO week fall ? defaults TRUE label_weeks label primary date axis week numbers? defaults TRUE week_start day week defined start week integer 1-7 (Monday = 1, Sunday = 7). defaults 1 (ISO week standard) date_breaks date break intervals passed ggplot2::scale_x_date. defaults \"2 weeks\" date_labels base::strptime date label code passed ggplot2::scale_x_date. defaults \"\\%V\" (ISO Week) date_max force date axis max date. Useful week passed incidence want show plot. Setting date_max current week force date axis show week incidence. sec_date_axis plot secondary date axis using default calculated ggplot2 date breaks labels? defaults FALSE facet_nrow nrow argument passed ggplot2::facet_wrap facet_ncol ncol argument passed ggplot2::facet_wrap facet_scales value scales argument passed ggplot2::facet_wrap. Default fixed. facet_labs facet labeller argument passed ggplot2::facet_wrap. Defaults ggplot2::label_wrap_gen(width = 25). facet_lab_pos facet label position argument passed strip.position ggplot2::facet_wrap. defaults \"top\". Options c(\"top\", \"bottom\", \"left\", \"right\") group_na_colour colour missing values group_col. defaults \"grey\" title optional title plot subtitle optional subtitle plot date_lab optional label date axis. defaults date_col name provided y_lab optional label Y axis. defaults n provided group_lab optional label group legend. defaults group_col name provided prop_lab label proportion line. default provided plotting proportion lines","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_epicurve.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot incidence over time from patient level data — plot_epicurve","text":"ggplot object","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_epicurve.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot incidence over time from patient level data — plot_epicurve","text":"","code":"library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union df_ebola <- dplyr::as_tibble(outbreaks::ebola_sim_clean$linelist)  df_ebola |>   dplyr::mutate(outcome = forcats::fct_explicit_na(outcome, \"Unknown\")) |>   plot_epicurve(     date_col = date_of_onset,     group_col = outcome,     prop_col = outcome,     prop_numer = \"Death\",     prop_denom = c(\"Death\", \"Recover\"),     floor_date_week = TRUE,     date_breaks = \"2 weeks\",     sec_date_axis = TRUE,     date_lab = \"Week of onset\",     y_lab = \"Incidence\",     group_lab = \"Outcome\",     prop_lab = \"CFR\"   ) #> Warning: There was 1 warning in `dplyr::mutate()`. #> ℹ In argument: `outcome = forcats::fct_explicit_na(outcome, \"Unknown\")`. #> Caused by warning: #> ! `fct_explicit_na()` was deprecated in forcats 1.0.0. #> ℹ Please use `fct_na_value_to_level()` instead. #> Warning: Returning more (or less) than 1 row per `summarise()` group was deprecated in #> dplyr 1.1.0. #> ℹ Please use `reframe()` instead. #> ℹ When switching from `summarise()` to `reframe()`, remember that `reframe()` #>   always returns an ungrouped data frame and adjust accordingly. #> ℹ The deprecated feature was likely used in the epivis package. #>   Please report the issue at <https://github.com/epicentre-msf/epivis/issues>. #> Warning: Removed 4 rows containing missing values or values outside the scale range #> (`()`)."},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_miss_vis.html","id":null,"dir":"Reference","previous_headings":"","what":"Missing data visualisation — plot_miss_vis","title":"Missing data visualisation — plot_miss_vis","text":"Function generate tile plot exploring missing values observations across variables dataframe.","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_miss_vis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Missing data visualisation — plot_miss_vis","text":"","code":"plot_miss_vis(   x,   facet = NULL,   col_vec = c(\"#6a040f\", \"#cce3de\"),   y_axis_text_size = 8 )"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_miss_vis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Missing data visualisation — plot_miss_vis","text":"x dataframe facet character value variable facet graph col_vec vector length 2 specifying color Missing Present values respectively y_axis_text_size nuemric value size y axis text","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_miss_vis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Missing data visualisation — plot_miss_vis","text":"ggplot tile graph displaying missing/present values variables dataframe","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_miss_vis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Missing data visualisation — plot_miss_vis","text":"","code":"# Use simulated measles data  suppressMessages(library(dplyr))  epivis::moissala_measles |>   filter(site %in% c(\"Moïssala Hospital\", \"Bouna Hospital\")) |>   plot_miss_vis(facet = \"site\")"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_pyramid.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Age/Sex Pyramids — plot_pyramid","title":"Plot Age/Sex Pyramids — plot_pyramid","text":"Plot Age/Sex Pyramids","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_pyramid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Age/Sex Pyramids — plot_pyramid","text":"","code":"plot_pyramid(   df,   age_col,   gender_col,   gender_levels,   facet_col = NULL,   make_age_groups = TRUE,   age_breaks = c(seq(0, 80, 10), Inf),   age_labels = label_breaks(age_breaks),   drop_age_levels = FALSE,   gender_labs = NULL,   x_lab = waiver(),   y_lab = waiver(),   colours = c(\"#486090FF\", \"#7890A8FF\"),   show_data_labs = FALSE,   lab_size = 4,   lab_in_col = \"white\",   lab_out_col = \"grey30\",   lab_nudge_factor = 5,   facet_nrow = NULL,   facet_ncol = NULL,   facet_scales = \"fixed\",   facet_labs = label_wrap_gen(width = 25),   facet_lab_pos = \"top\",   add_missing_cap = TRUE )"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_pyramid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Age/Sex Pyramids — plot_pyramid","text":"df un-aggregated dataframe minimum age gender variables. age_col age variable name df. Can either numeric vecotr ages character/factor vector age groups. gender_col gender variable name df levels indicating male female. gender_levels length 2 character vector male female level gender_col, respectively. facet_col optional faceting variable name split chart small multiples. make_age_groups set TRUE (default) age_col numeric needs binned groups. age_breaks breaks used binning numerical age_col. age_labels break labels accompany age_breaks. Defaults epivis::label_breaks(age_breaks). drop_age_levels age groups observations removed chart? Defaults FALSE. gender_labs optional labels gender_levels x_lab optional label X axis. y_lab optional label Y axis. colours length 2 character vector colours used male female, respectively. show_data_labs show data labels chart? Defaults FALSE. lab_size data labels size. lab_in_col data label colour placed inside bar. lab_out_col data label colour placed outside bar. lab_nudge_factor threshold moving data label outside bar. Defaults 5. Increasing number increases distance max value required move label outside bar. facet_nrow nrow argument passed ggplot2::facet_wrap. facet_ncol ncol argument passed ggplot2::facet_wrap. facet_scales facet scales argument passed ggplot2::facet_wrap. scales fixed (\"fixed\", default), free (\"free\"), free one dimension (\"free_x\", \"free_y\")? facet_labs facet labeller argument passed ggplot2::facet_wrap. Defaults ggplot2::label_wrap_gen(width = 25). facet_lab_pos facet label position argument passed strip.position ggplot2::facet_wrap. Defaults \"top\". Options c(\"top\", \"bottom\", \"left\", \"right\"). add_missing_cap show missing data counts age_col gender_col? Defaults TRUE.","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_pyramid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Age/Sex Pyramids — plot_pyramid","text":"ggplot object","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_pyramid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Age/Sex Pyramids — plot_pyramid","text":"","code":"suppressMessages(library(dplyr)) df_flu <- outbreaks::fluH7N9_china_2013  plot_pyramid(   df = df_flu,   age_col = age,   gender_col = gender,   gender_levels = c(\"m\", \"f\") )"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_stacked_bar.html","id":null,"dir":"Reference","previous_headings":"","what":"Stacked barplot — plot_stacked_bar","title":"Stacked barplot — plot_stacked_bar","text":"Stacked barplot","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_stacked_bar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stacked barplot — plot_stacked_bar","text":"","code":"plot_stacked_bar(   df,   cols,   levels_value,   keep_na = TRUE,   use_counts = TRUE,   flip = FALSE,   x_lab = waiver(),   caption = TRUE )"},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_stacked_bar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stacked barplot — plot_stacked_bar","text":"df un-aggregated dataframe (linelist). cols vector character/factor variables names df displayed barplot. levels_value vector level values used plotting. keep_na logical, default = TRUE. Keep NAs graphs proportions ? use_counts logical, default = TRUE. Use counts proportion y axis ? flip logical, default = FALSE. Flip barplot ? x_lab character name x axis caption logical, default = TRUE. Display plot caption summarising number cases ?","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_stacked_bar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stacked barplot — plot_stacked_bar","text":"ggplot object","code":""},{"path":"https://epicentre-msf.github.io/epivis/reference/plot_stacked_bar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stacked barplot — plot_stacked_bar","text":"","code":"# Use fake data from Epidemiologist R handbook  suppressMessages(library(dplyr))  epivis::moissala_measles |>   mutate(across(     c(       fever,       rash,       cough,       red_eye,       pneumonia,       encephalitis     ),     ~ as.character(.x)   )) |>   plot_stacked_bar(     cols = c(\"fever\", \"rash\", \"cough\", \"red_eye\", \"pneumonia\", \"encephalitis\"),     levels_value = c(0, 1),     keep_na = FALSE,     use_counts = FALSE,     flip = TRUE   )"}]
